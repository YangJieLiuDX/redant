---
layout: wiki
title: Java
categories: Java
description: Java
keywords: Java
---

### 第 1 章 概述

### 第 2 章 基本程序设计

#### 2.1 一个简单的 Java 应用程序

#### 2.2 数据类型

#### 2.3 变量和常量

#### 2.4 运算符

##### 2.4.1 赋值运算

##### 2.4.2 算术运算

##### 2.4.3 自增自减运算

自增自减运算的作用是让变量的值在运算前（前缀式）或运算后（后缀式）加一（自增运算符）或减一（自减运算符）。接下来我们通过几个例子来具体看一下：

**例 1 **

```java
int i = 0;
int j = i++;
int k = --i;
```

运行这段代码后，变量 i、j 和 k 的值分别是多少？

i、j 和 k 的值分别是 0、0 和 0。

在第二行代码中，使用到的运算符号是后缀自增运算符。它的作用是让 i 的值在运算后加一，其等价代码如下：

```java
int j = i;	// 将 i 的值 0 赋给 j，所以 j 的值为 0
i = i + 1;	// i 的值加一，所以 i 的值为 1
```

在第三行代码中，使用到的运算符号是前缀自减运算符。它的作用是让 i 的值在运算前减一，其等价代码如下：

```java
i = i - 1;	// i 的值减一，所以 i 的值为 0
int k = i;	// 将 i 的值 0 赋给 k，所以 k 的值为 0
```

因此，我们可以得到 i、j 和 k 的值分别是 0、0 和 0。

**注：这里我们的等价代码实际上不够严谨，我们将在例 3 中进行补充说明**

**例 2 **

```java
int i = 0;
int j = 2 * ++i;
int k = 2 * i--;
```

运行这段代码后，变量 i、j 和 k 的值分别是多少？

i、j 和 k 的值分别是 0、2 和 2。

在这个程序中，我们需要掌握的是**自增自减运算符的优先级高于四则运算符**，关于运算发优先级的内容可以参见 2.4.8 。

在第二行代码中，使用到的运算符号是前缀自增运算符。它的作用是让 i 的值在运算前加一，所以 i 的值先自增为 1，然后 j 的值通过乘法运算初始化为 2。

在第三行代码中，使用到的运算符号是后缀自减运算符。它的作用是让 i 的值在运算后减一，所以 k 的值先通过乘法运算初始化为 2，然后 i 的值自减为 0。

因此，我们可以得到 i、j 和 k 的值分别是 0、2 和 2。

**例 3 **

```java
int i = 0, j = 0;
i = i++;
j = --j;
```

运行这段代码后，变量 i 和 j 的值分别是多少？

i 和 j 的值分别是 0 和 -1。

看完例 1 和例 2 后，你可能对这个结果存在疑问。我们先用前面的思维对代码进行分析。

在第二行代码中，i 的值先被 i 赋值为 0，然后 i 自增为1；同理可得，j 的值为 -1。那么为什么最后得到的答案与我们分析的有偏差呢？

**实际上，Java 编译器在遇到自增自减运算符的时候都会为变量重新开辟一块内存空间，用来存储运算时的值。等到运算结束后，在将这块内存释放掉。**根据这一点，我们可以得到例子中第二行和第三行的等价代码：

```java
// 第二行代码
int temp1 = i;	// 开辟一块内存空间存储运算时的值，即 0
i = i + 1;	// i 进行自增操作后，值变成 1
i = temp1;	// 将运算时的值赋给 i，则 i 的值为 0

// 第三行代码
int temp2 = j - 1;	// 开辟一块内存空间存储运算时的值，即 -1
j = j - 1;	// j 进行自减操作后，值变成 -1
j = temp2;	// 将运算时的值赋给 j，则 i 的值为 -1
```

从上面的分析我们可以看到`i = i++;`和`j = --j;`这样的语句使我们的代码显得不够清晰，容易让我们的程序出现错误。所以，在实际工作中，我们应该尽可能避免写出这样的语句。如果我们要单纯实现自增自减的话，直接使用`i++;`或`j--;`之类的语句就可以了。

从这个分析中，我们也隐约可以感觉到，自增自减符的运算过程中，运算和自增自减貌似是独立的。实际上，自增自减运算符并不是线程安全的操作。关于线程安全这一块的内容，我们将在第 11 章中进行讲解。

**例 4**

```java
float f = 0.1f;
f++;
double d = 0.1;
d++;
char c = 'a';
c++;
```

这段代码是否可以运行，运行结果是什么？

这段代码是可以运行的，运行之后 f、d 和 c 的值分别是 0.2，0.2 和 ‘b’。

自增自减运算符实际上不仅可以用于整数类型，也可以用于浮点类型以及字符串类型char。另外，它们也可以用于 2.8 中的大数值。

自增自减运算符运算结果的类型与被运算的变量类型一致。

##### 2.4.4 关系运算

##### 2.4.5 逻辑运算

##### 2.4.6 位运算

##### 2.4.7 其他运算

##### 2.4.8 运算符优先级和结合方向

#### 2.5 字符串

#### 2.6 输入输出

#### 2.7 控制流程

#### 2.8 大数值

#### 2.9 数组

#### 2.10 方法

### 第 3 章 对象和类

### 第 4 章 继承和多态

### 第 5 章 接口、抽象类和内部类

### 第 6 章 异常处理

### 第 7 章 泛型

### 第 8 章 容器

### 第 9 章 Java I/O 系统

### 第 10 章 注解

### 第 11 章 并发