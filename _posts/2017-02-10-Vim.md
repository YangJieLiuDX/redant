---
layout: post
title: 找个地方放放 Vim 命令
categories: Tool
description: Vim命令
keywords: Vim, Vim
---

之前写过一篇类似的记录Git命令的文章，这篇文章则是将注意力放在Vim上，Vim是最便捷的编辑器之一，经常在Linux系统下使用到，本人也是希望通过这篇文章将记忆中零散的Vim命令整理一下，顺便感受一下这个编辑器的神秘力量。

Vim有三种工作模式，由于本文主要是为了己用，所以只记录一些本人经常需要用到且认为有必要一提的命令，这些命令大部分都是交互模式下的命令。下面的这些命令是我结合本人的使用习惯以及Vimtutor文档进行总结的。废话不多说，就让我们开始盘点这些命令。

**移动**

- **0**：移动至行首
- **$**：移动至行末
- **w**：以单词为单位进行移动
- **7gg**：跳到第七行
- **7G**：跳到第七行
- **gg**：跳到第一行
- **G**：跳到最后一行

**删除**

- **x**：删除一个字符
- **dd**：删除一行，也有剪切的作用
- **dw**：删除一个单词
- **d5w**：删除五个单词
- **d0**：删除至行首
- **d$**：删除至行末
- **dL**：删除直到屏幕上最后一行的内容
- **dH**：删除直到屏幕上第一行的内容
- **dG**：删除直到工作缓存区结尾的内容
- **d1G**：删除直到工作缓存区开始的内容

**复制、粘贴和撤销**

- **yy**：复制游标所在行整行
- **Y**：复制游标所在行整行
- **2yy**：复制两行
- **y2y**：复制两行
- **y^**：复制至行首，不含游标所在处字元
- **y0**：复制至行首，不含游标所在处字元
- **y$**：复制至行尾，含游标所在处字元
- **yw**：复制一个word
- **y2w**：复制两个word
- **p**：粘贴至游标后
- **P**：粘贴至游标前
- **Shift+Insert**：粘贴系统粘贴板内容
- **u**：撤销
- **Ctrl+r**：恢复上一步被撤销的操作

**查找、替换和合并**

- **/**：查找，输入查找字符串，按下回车键即可查找。查找下一个匹配项按n。反向查找按N。默认从当前光标处开始。如果要从文件最开始处查找，则将斜杠（/）替换为问号（?）即可，其他功能是一样的
- **rs**：替换一个字符。r是替换的意思，此命令是将该字符替换为s
- **R**：进入替代模式，可一次性替换多个字符
- **:s/旧字符串/新字符串**：替换光标所在行的第一个匹配的字符串
- **:s/旧字符串/新字符串/g**：替换光标所在行的所有匹配的字符串
- **:#,#s/旧字符串/新字符串/g**：替换文件中第#行到第#行的所有匹配的字符串
- **:%s/旧字符串/新字符串/g**：替换文件中所有匹配的字符串
- **:r 文件名**：在光标后插入一个文件的内容，可以用Tab键来自动补全另一个文件的路径

> 注：以上的替换和查找既可以使用简单字符串，也可以使用正则表达式

**分屏**

- **:sp**：横向分屏
- **:sp 文件名**：横向分屏，并在新的一块屏幕中打开该文件
- **:vsp**：垂直分屏
- **Ctrl+w**：跳转viewport
- **Ctrl+w+j**：跳转到下方的viewport，而h、k和l分别对应的是左、上和右
- **Ctrl+w然后按+**：扩大当前viewport
- **Ctrl+w然后按-**：缩小当前viewport
- **Ctrl+w然后按=**：重新均匀分配各个viewport的占比
- **Ctrl+w然后按r**：调换各个viewport的位置。用R的话是反向调换
- **Ctrl+w然后按q或按c**：关闭当前viewport
- **Ctrl+o或者:only**：只保留当前所在viewport，关闭其他viewport

**其他**

- **:!ls**：在Vim打开文件的所在目录运行ls命令